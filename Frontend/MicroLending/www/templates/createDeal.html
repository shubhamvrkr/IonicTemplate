<ion-view title="Create Contract" id="page2">
  <ion-content padding="true" class="has-header" style="background:#F5F5F5">

  <ion-refresher pulling-icon = "none" on-refresh="doRefresh()"></ion-refresher>
  
    <div class="screenadjust">

      <div class="row">

        <div class="col">
          <!---->
          <form name="createContractForm" class="form form-validation createContract item" ng-submit="CreateDeal(data)">
            <!-- Search Phonebook -->
            <fieldset ng-disabled="isSaving">
              <span class="input-label">Select Counterparty</span>
              <div class="item item-input">
                <input type="text" placeholder="Search Phonebook" ng-model="data.counterparty" ng-focus="selectCounterparty()" required />
                <i class="icon-search icon ion-search"></i>
              </div>

              <span class="input-label">Asset Name</span>
              <div class="item item-input">
                <input type="text" name="assetname" placeholder="What are you lending? Eg. Camera, Book, CD" ng-model="data.assetname" ng-minlength="3"
                  required>
              </div>
              <small ng-show="createContractForm.assetname.$error.minlength" class="ng-hide error">Asset name must be longer than 3 charactes</small>

              <span class="input-label">Asset ID</span>
              <div class="item item-input">
                <input type="text" name="assetid" placeholder="Unique Asset Identifier" ng-model="data.assetid" ng-minlength="3" required>
              </div>
              <small ng-show="createContractForm.assetid.$error.minlength" class="ng-hide error">Asset ID must be longer than 3 charactes</small>
              <label>
              <span class="input-label">Start Date</span>
                      <div class="item item-input">
                <input type="date" id="startDate" name="startdate" ng-model="data.startdate" required>
              </div>
				      </label>
              <label>
              <span class="input-label">End Date</span>
                      <div class="item item-input">
                <input type="date" id="endDate" name="enddate" ng-model="data.enddate" required>
              </div>
                      </label >
              <span class="input-label">Description</span>
                      <div class="item item-input">
                <textarea placeholder="Additional Terms & Conditions" name="description" ng-model="data.description" required></textarea>
              </div>
              <small class="error"  ng-if="createContractForm.$invalid"><strong>All fields are mandatory</strong></small>
              <small class="error">{{error}}</small>
            <div>
              <button id="create-deal" class="button button-medium button-radius button-balanced button-block" ng-hide="submitFlag" ng-disabled="createContractForm.$invalid">
                  <label class="loginText" ng-hide="textFlag">Create Contract<label>
                </button>
            </div>
            </fieldset>
            <div ng-hide="spinnerFlag" class="miningSpinner">
              <ion-spinner icon="lines"></ion-spinner><br> <label class="loadingText">Mining Transaction</label><br><label class="helpText">Please do not refresh or close the window</label>
            </div>

          </form>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>
